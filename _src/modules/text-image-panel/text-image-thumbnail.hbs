{{!--
* reverse: will reverse flex order
* noSpacerBottom: remove margin bottom pairing with reverse
* thumbnail: square bg image for side panel
* background: detail background-color
* title: h2 title
* link: target link
* smallTitle: set true to use small title
* subTitle: subtitle text
* subTitleLink: sub title target link
* text: description text, text area non rich text
* buttonText: text on cta button, use same link as title
* buttonLink: button link target, will use link as default if buttonLink not set
* footer: display footer item with price, discount, rating, button
* price: product price, automaticaly set line trough if discount exist
* discPrice: product price after discount
* discount: discount text ie: 0% off
* rating: product rating 0 - 5, increament 0.5
--}}
<div class="row {{reverse}} with-thumbnail {{#if noSpacerBottom}}no-spacer-bottom{{/if}}{{#if background}} padded-content{{/if}}">
  <div class="thumbnail-container col-one">
    <div class="thumbnail" style="background-image:url({{thumbnail}})">&nbsp;</div>
  </div>

  <div class="detail col-two {{#if background}} padded{{/if}}"{{#if background}} style="background-color:{{background}};"{{/if}}>
    {{#if title }}
      <h2>
        {{#if link}}
          <a href="{{link}}" title="{{title}}">
        {{/if }}

        {{title}}

        {{#if link}}
          </a>
        {{/if }}
      </h2>
    {{/if }}

    {{#if subTitle}}
      <p class="small">
        {{#if subTitleLink }}
          <a href="{{ subTitleLink }}" title="{{ subTitle}}">
        {{/if}}

        {{ subTitle }}

        {{#if subTitleLink }}
          </a>
        {{/if}}
      </p>
    {{/if}}

    <p>{{text}}</p>

    {{#if footer }}
      <p class="item-footer">
        <span class="price">
          {{#if discPrice }}
            <span>{{ discPrice }}</span>
          {{/if}}

          {{#if price }}
            <span{{#if discPrice }} class="through"{{/if}}>{{ price }}</span>
          {{/if}}
        </span>

        {{#if discount }}
          <span class="discount">
            <span class="discount-text">{{ discount }}</span>
        {{/if}}

        {{#if rating }}
          <span class="rating">
            <span style="width:calc(100% * {{ rating }} / 5)">&nbsp;</span>
          </span>
        {{/if}}

        {{#if discount }}
          </span>
        {{/if}}

        {{#if buttonText }}
          <a href="{{#if buttonLink}}{{ buttonLink }}{{/if}}{{#unless buttonLink}}{{ link }}{{/unless}}" title="{{ buttonText }}" class="btn">{{ buttonText }}</a>
        {{/if}}
      </p>
    {{/if}}

    {{#if buttonText }}
      {{#unless footer }}
        <p><a href="{{#if buttonLink}}{{ buttonLink }}{{/if}}{{#unless buttonLink}}{{ link }}{{/unless}}" title="{{ buttonText }}" class="btn">{{ buttonText }}</a></p>
      {{/unless}}
    {{/if}}
  </div>
</div>
